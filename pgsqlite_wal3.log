[2m2025-08-06T01:59:14.794124Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m pgsqlite v0.0.13
[2m2025-08-06T01:59:14.794220Z[0m [32m INFO[0m [2mpgsqlite::session::db_handler[0m[2m:[0m New database file detected, will run initial migrations...
[2m2025-08-06T01:59:14.798208Z[0m [32m INFO[0m [2mpgsqlite::session::db_handler[0m[2m:[0m Running initial migrations...
[2m2025-08-06T01:59:14.801170Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 1: Create initial pgsqlite system tables
[2m2025-08-06T01:59:14.801639Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 1 completed in 0ms
[2m2025-08-06T01:59:14.801699Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 2: Add PostgreSQL ENUM type support
[2m2025-08-06T01:59:14.802444Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 2 completed in 0ms
[2m2025-08-06T01:59:14.802498Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 3: Add datetime format and timezone metadata for PostgreSQL datetime types
[2m2025-08-06T01:59:14.803420Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 3 completed in 0ms
[2m2025-08-06T01:59:14.803472Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 4: Convert all datetime types to INTEGER storage using microseconds
[2m2025-08-06T01:59:14.803687Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 4 completed in 0ms
[2m2025-08-06T01:59:14.803735Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 5: Create PostgreSQL-compatible catalog tables and views for psql compatibility
[2m2025-08-06T01:59:14.972387Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 5 completed in 168ms
[2m2025-08-06T01:59:14.972470Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 6: Add support for VARCHAR/CHAR length constraints
[2m2025-08-06T01:59:14.973543Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 6 completed in 0ms
[2m2025-08-06T01:59:14.973607Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 7: Add support for NUMERIC/DECIMAL precision and scale constraints
[2m2025-08-06T01:59:14.973988Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 7 completed in 0ms
[2m2025-08-06T01:59:14.974036Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 8: Add support for PostgreSQL array types
[2m2025-08-06T01:59:14.974979Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 8 completed in 0ms
[2m2025-08-06T01:59:14.975028Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 9: Add PostgreSQL Full-Text Search support using FTS5
[2m2025-08-06T01:59:14.977590Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 9 completed in 2ms
[2m2025-08-06T01:59:14.977661Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 10: Add typcategory column to pg_type view for PostgreSQL compatibility
[2m2025-08-06T01:59:14.979303Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 10 completed in 1ms
[2m2025-08-06T01:59:14.979366Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Applying migration 11: Replace oid_hash function with built-in SQLite functions in catalog views
[2m2025-08-06T01:59:14.980529Z[0m [32m INFO[0m [2mpgsqlite::migration::runner[0m[2m:[0m Migration 11 completed in 0ms
[2m2025-08-06T01:59:14.985061Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Unix socket created at: /tmp/.s.PGSQL.15501
[2m2025-08-06T01:59:14.985135Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m TCP server listening on port 15501
[2m2025-08-06T01:59:14.985147Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Using database: test_wal.db
[2m2025-08-06T01:59:14.985155Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m SSL disabled - using unencrypted connections
[2m2025-08-06T01:59:14.987280Z[0m [32m INFO[0m [2mpgsqlite::cache::status[0m[2m:[0m Query Cache Status - Total: 0, Hits: 0 (0.0%), Misses: 0, Evictions: 0, Size: 0/1000
[2m2025-08-06T01:59:22.730993Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m New TCP connection from 127.0.0.1:38128
[2m2025-08-06T01:59:22.731096Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Handling TCP connection from 127.0.0.1:38128
[2m2025-08-06T01:59:22.731170Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Rejected SSL request from 127.0.0.1:38128 (SSL disabled)
[2m2025-08-06T01:59:22.731223Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Received startup message from 127.0.0.1:38128: StartupMessage { protocol_version: 196608, parameters: {"options": "-c client_encoding=UTF8", "user": "postgres", "database": "test"} }
[2m2025-08-06T01:59:22.733267Z[0m [32m INFO[0m [2mpgsqlite::session::connection_manager[0m[2m:[0m Created new connection for session 83c52ab0-4e1b-4373-9d61-9a3eacdf72be (total connections: 1)
[2m2025-08-06T01:59:22.733467Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Sent authentication and ready response to 127.0.0.1:38128
[2m2025-08-06T01:59:22.789505Z[0m [32m INFO[0m [2mpgsqlite::catalog::constraint_populator[0m[2m:[0m Populating constraints for table: users
[2m2025-08-06T01:59:22.825796Z[0m [32m INFO[0m [2mpgsqlite::catalog::constraint_populator[0m[2m:[0m Successfully populated constraints for table: users
[2m2025-08-06T01:59:22.826072Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Received Parse from 127.0.0.1:38128: query=INSERT INTO users (name, created_at) VALUES ($1, $2), name=
[2m2025-08-06T01:59:22.842127Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Translating array operators for query: INSERT INTO users (name, created_at) VALUES ($1, $2)
[2m2025-08-06T01:59:22.842185Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Array metadata has 0 hints
[2m2025-08-06T01:59:22.843729Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Analyzing query 'INSERT INTO users (name, created_at) VALUES ($1, $2)' for field descriptions
[2m2025-08-06T01:59:22.843744Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Original query: INSERT INTO users (name, created_at) VALUES ($1, $2)
[2m2025-08-06T01:59:22.843751Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Is simple param select: false
[2m2025-08-06T01:59:22.843768Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Final param_types for statement: [0, 0]
[2m2025-08-06T01:59:22.843844Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m   Param 1: inferred type OID 25 from value (format=0)
[2m2025-08-06T01:59:22.843856Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m   Param 2: inferred type OID 1114 from value (format=0)
[2m2025-08-06T01:59:22.843868Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m   Param 1: 9 bytes, expected type OID 0, format 0 (text)
[2m2025-08-06T01:59:22.843884Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m     First bytes (hex): 54 65 73 74 20 55 73 65 72
[2m2025-08-06T01:59:22.843891Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m     As string: "Test User"
[2m2025-08-06T01:59:22.843896Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m   Param 2: 19 bytes, expected type OID 0, format 0 (text)
[2m2025-08-06T01:59:22.843905Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m     First bytes (hex): 32 30 32 35 2d 30 38 2d 30 35 20 31 32 3a 33 34 3a 35 36
[2m2025-08-06T01:59:22.843910Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m     As string: "2025-08-05 12:34:56"
[2m2025-08-06T01:59:22.843962Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Describing portal '<unnamed>' (type byte: 50)
[2m2025-08-06T01:59:22.843995Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Received Execute from 127.0.0.1:38128: portal=, max_rows=0
üîç DEBUG: Executing portal '' with max_rows: 0
üîç DEBUG: Portal data: original_query='INSERT INTO users (name, created_at) VALUES ($1, $2)', translated_query=Some("INSERT INTO users (name, created_at) VALUES ($1, $2)"), bound_values.len()=2
üîç DEBUG: Fast path check conditions: !bound_values.is_empty()=true, effective_query.contains('$')=true
üîç DEBUG: Fast path check: query_type=Insert, bound_values=2, has_$=true
üîç DEBUG: ExtendedFastPath::execute_with_params called for query: INSERT INTO users (name, created_at) VALUES ($1, $2)
üîç DEBUG:   bound_values.len(): 2, param_types: [25, 1114], original_types: [25, 1114]
üîç DEBUG: Fast path parameter conversion succeeded, 2 params
üîç DEBUG: try_execute_fast_path_with_params called with query: INSERT INTO users (name, created_at) VALUES ($1, $2)
üîç DEBUG: params: [Text("Test User"), Integer(1754397296000000)]
üîç DEBUG: WAL check: response=DbResponse { columns: [], rows: [], rows_affected: 1 }, query_type=Insert
üîç DEBUG: is_autocommit=true
üîç DEBUG: DML operation completed in autocommit mode, triggering WAL refresh for session 83c52ab0-4e1b-4373-9d61-9a3eacdf72be
üîç DEBUG: WAL refresh triggered successfully
üîç DEBUG: DbHandler fast path succeeded
üîç DEBUG: Fast path DML succeeded
üîç DEBUG: Fast path execution succeeded, returning
[2m2025-08-06T01:59:22.844856Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m New TCP connection from 127.0.0.1:38140
[2m2025-08-06T01:59:22.844907Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Handling TCP connection from 127.0.0.1:38140
[2m2025-08-06T01:59:22.844941Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Rejected SSL request from 127.0.0.1:38140 (SSL disabled)
[2m2025-08-06T01:59:22.845004Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Received startup message from 127.0.0.1:38140: StartupMessage { protocol_version: 196608, parameters: {"database": "test", "user": "postgres", "options": "-c client_encoding=UTF8"} }
[2m2025-08-06T01:59:22.846716Z[0m [32m INFO[0m [2mpgsqlite::session::connection_manager[0m[2m:[0m Created new connection for session 975da614-7935-4d90-9912-ec0c4f829d71 (total connections: 2)
[2m2025-08-06T01:59:22.846869Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Sent authentication and ready response to 127.0.0.1:38140
[2m2025-08-06T01:59:22.847034Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Received Parse from 127.0.0.1:38140: query=SELECT id, name, created_at FROM users WHERE id = $1, name=
[2m2025-08-06T01:59:22.850271Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Translating array operators for query: SELECT id, name, created_at FROM users WHERE id = $1
[2m2025-08-06T01:59:22.850338Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Array metadata has 0 hints
[2m2025-08-06T01:59:22.851348Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Analyzing query 'SELECT id, name, created_at FROM users WHERE id = $1' for field descriptions
[2m2025-08-06T01:59:22.851366Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Original query: SELECT id, name, created_at FROM users WHERE id = $1
[2m2025-08-06T01:59:22.851373Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Is simple param select: false
[2m2025-08-06T01:59:22.851415Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Detected column casts: {}
[2m2025-08-06T01:59:22.855248Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Test query returned 3 columns: ["id", "name", "created_at"]
[2m2025-08-06T01:59:22.862072Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m No type hint found in translation metadata for 'id'
[2m2025-08-06T01:59:22.862099Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m No type hint found in translation metadata for 'name'
[2m2025-08-06T01:59:22.862109Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m No type hint found in translation metadata for 'created_at'
[2m2025-08-06T01:59:22.862122Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Parsed 3 field descriptions from query with inferred types
[2m2025-08-06T01:59:22.862156Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Final param_types for statement: [21]
[2m2025-08-06T01:59:22.862227Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m   Param 1: 2 bytes, expected type OID 21, format 1 (binary)
[2m2025-08-06T01:59:22.862246Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m     First bytes (hex): 00 01
[2m2025-08-06T01:59:22.862289Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Describing portal '<unnamed>' (type byte: 50)
[2m2025-08-06T01:59:22.862308Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Describe portal: original fields: [FieldDescription { name: "id", table_oid: 0, column_id: 1, type_oid: 23, type_size: -1, type_modifier: -1, format: 0 }, FieldDescription { name: "name", table_oid: 0, column_id: 2, type_oid: 1043, type_size: -1, type_modifier: -1, format: 0 }, FieldDescription { name: "created_at", table_oid: 0, column_id: 3, type_oid: 1114, type_size: -1, type_modifier: -1, format: 0 }]
[2m2025-08-06T01:59:22.862320Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m Describe portal: sending updated fields: [FieldDescription { name: "id", table_oid: 0, column_id: 1, type_oid: 23, type_size: -1, type_modifier: -1, format: 0 }, FieldDescription { name: "name", table_oid: 0, column_id: 2, type_oid: 1043, type_size: -1, type_modifier: -1, format: 0 }, FieldDescription { name: "created_at", table_oid: 0, column_id: 3, type_oid: 1114, type_size: -1, type_modifier: -1, format: 0 }]
[2m2025-08-06T01:59:22.862353Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Received Execute from 127.0.0.1:38140: portal=, max_rows=0
üîç DEBUG: Executing portal '' with max_rows: 0
üîç DEBUG: Portal data: original_query='SELECT id, name, created_at FROM users WHERE id = $1', translated_query=Some("SELECT id, name, created_at FROM users WHERE id = $1"), bound_values.len()=1
üîç DEBUG: Fast path check conditions: !bound_values.is_empty()=true, effective_query.contains('$')=true
[2m2025-08-06T01:59:22.862430Z[0m [32m INFO[0m [2mpgsqlite::query::extended[0m[2m:[0m üöÄ Ultra-fast path triggered for query: SELECT id, name, created_at FROM users WHERE id = $1
[2m2025-08-06T01:59:22.862719Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Client 127.0.0.1:38128 requested termination
[2m2025-08-06T01:59:22.862754Z[0m [32m INFO[0m [2mpgsqlite::session::connection_manager[0m[2m:[0m Removed connection for session 83c52ab0-4e1b-4373-9d61-9a3eacdf72be (remaining connections: 1)
[2m2025-08-06T01:59:22.862765Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Connection from 127.0.0.1:38128 closed
[2m2025-08-06T01:59:22.862877Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Client 127.0.0.1:38140 requested termination
[2m2025-08-06T01:59:22.863074Z[0m [32m INFO[0m [2mpgsqlite::session::connection_manager[0m[2m:[0m Removed connection for session 975da614-7935-4d90-9912-ec0c4f829d71 (remaining connections: 0)
[2m2025-08-06T01:59:22.863091Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Connection from 127.0.0.1:38140 closed
