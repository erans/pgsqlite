   Compiling ring v0.17.14
   Compiling rcgen v0.13.2
   Compiling pgsqlite v0.0.1 (/home/eran/work/pgsqlite)
warning: field `server_handle` is never read
 --> tests/common/mod.rs:9:9
  |
5 | pub struct TestServer {
  |            ---------- field in this struct
...
9 |     pub server_handle: tokio::task::JoinHandle<()>,
  |         ^^^^^^^^^^^^^
  |
  = note: `#[warn(dead_code)]` on by default

warning: method `abort` is never used
  --> tests/common/mod.rs:13:12
   |
12 | impl TestServer {
   | --------------- method in this implementation
13 |     pub fn abort(self) {
   |            ^^^^^

warning: `pgsqlite` (test "enum_error_handling_test") generated 2 warnings
    Finished `test` profile [unoptimized + debuginfo] target(s) in 21.58s
     Running unittests src/lib.rs (target/debug/deps/pgsqlite-62bcf4e458b1d4b5)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 99 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/pgsqlite-2cbffb8db9e6e407)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/array_types_test.rs (target/debug/deps/array_types_test-e6b8225cb817bb55)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 8 filtered out; finished in 0.00s

     Running tests/benchmark_batch_insert.rs (target/debug/deps/benchmark_batch_insert-015e9e401c561f4f)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/benchmark_cache_effectiveness.rs (target/debug/deps/benchmark_cache_effectiveness-75ad33f391b67efd)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/benchmark_extended_protocol.rs (target/debug/deps/benchmark_extended_protocol-74c747f5c07a11f7)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/benchmark_fast_path.rs (target/debug/deps/benchmark_fast_path-110b5f185e90b247)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/benchmark_protocol_serialization.rs (target/debug/deps/benchmark_protocol_serialization-2fd8888bbc35412f)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/benchmark_select_detailed.rs (target/debug/deps/benchmark_select_detailed-e67b30b72785087d)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/benchmark_select_simple.rs (target/debug/deps/benchmark_select_simple-7323013fc2ca0f6a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/binary_protocol_types_test.rs (target/debug/deps/binary_protocol_types_test-6b30a65ff5d193ba)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 10 filtered out; finished in 0.00s

     Running tests/cast_simple_test.rs (target/debug/deps/cast_simple_test-65481e6211bf9f24)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_basic_test.rs (target/debug/deps/catalog_basic_test-8b7b7e5f37d5f022)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_enum_test.rs (target/debug/deps/catalog_enum_test-afcc9868c6548030)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/catalog_extended_protocol_test.rs (target/debug/deps/catalog_extended_protocol_test-4f5af75673b6211d)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_query_test.rs (target/debug/deps/catalog_query_test-a79bf8ec8141ec3c)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_simple_repro.rs (target/debug/deps/catalog_simple_repro-f9beb994fe702c2c)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_test.rs (target/debug/deps/catalog_test-e8ed0c9373d03720)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.00s

     Running tests/catalog_text_format_test.rs (target/debug/deps/catalog_text_format_test-262e77994a185699)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_where_basic_test.rs (target/debug/deps/catalog_where_basic_test-c28c10fe81193e2f)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_where_simple_test.rs (target/debug/deps/catalog_where_simple_test-e707fdbe929ca624)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/catalog_where_test.rs (target/debug/deps/catalog_where_test-5ab76c60ed07d11a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 3 filtered out; finished in 0.00s

     Running tests/connection_pool_test.rs (target/debug/deps/connection_pool_test-eb41b07227c3ad24)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.00s

     Running tests/datatype_compat_test.rs (target/debug/deps/datatype_compat_test-ee592b8e9584f117)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 9 filtered out; finished in 0.00s

     Running tests/decimal_group_order_test.rs (target/debug/deps/decimal_group_order_test-8b528a8ff6eed79a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 7 filtered out; finished in 0.00s

     Running tests/decimal_integration_test.rs (target/debug/deps/decimal_integration_test-9f432bdd44eb8cfc)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 10 filtered out; finished in 0.00s

     Running tests/decimal_optimization_test.rs (target/debug/deps/decimal_optimization_test-9eceaec3adc23262)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 7 filtered out; finished in 0.00s

     Running tests/decimal_order_integration_test.rs (target/debug/deps/decimal_order_integration_test-6e0da596f5db6941)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/decimal_rewriter_test.rs (target/debug/deps/decimal_rewriter_test-79d4779950f14f95)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 16 filtered out; finished in 0.00s

     Running tests/enum_cast_extended_test.rs (target/debug/deps/enum_cast_extended_test-99dc60012ade9da3)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/enum_cast_test.rs (target/debug/deps/enum_cast_test-6f37dc36108f26fe)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 5 filtered out; finished in 0.00s

     Running tests/enum_error_handling_test.rs (target/debug/deps/enum_error_handling_test-e2621b10353cbe94)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 5 filtered out; finished in 0.00s

     Running tests/enum_metadata_test.rs (target/debug/deps/enum_metadata_test-8eb10825df847bdc)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 7 filtered out; finished in 0.00s

     Running tests/enum_simple_test.rs (target/debug/deps/enum_simple_test-f6851a8fe8180383)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/enum_table_test.rs (target/debug/deps/enum_table_test-fa81f6da944abe5e)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.00s

     Running tests/enum_type_oid_test.rs (target/debug/deps/enum_type_oid_test-0cc7196c1cfd5efb)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/enum_unit_test.rs (target/debug/deps/enum_unit_test-38917c63e4b69551)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.00s

     Running tests/enum_where_test.rs (target/debug/deps/enum_where_test-bbd0369f2e8aa49a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.00s

     Running tests/expression_type_resolver_test.rs (target/debug/deps/expression_type_resolver_test-bba920b992f97e33)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 11 filtered out; finished in 0.00s

     Running tests/extended_protocol_test.rs (target/debug/deps/extended_protocol_test-5772410618c16b83)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/fast_path_debug_test.rs (target/debug/deps/fast_path_debug_test-d1d2fa44866cdb66)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/fast_path_test.rs (target/debug/deps/fast_path_test-155bf002c66e7356)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/float_decimal_test.rs (target/debug/deps/float_decimal_test-12606a7eaf7515dc)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 7 filtered out; finished in 0.00s

     Running tests/insert_detailed_analysis.rs (target/debug/deps/insert_detailed_analysis-51a0a053fb1b2abd)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/insert_optimization_test.rs (target/debug/deps/insert_optimization_test-cd63cfd5a6c1bedb)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 5 filtered out; finished in 0.00s

     Running tests/insert_performance_benchmark.rs (target/debug/deps/insert_performance_benchmark-b29f69b78694e944)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/integration_test.rs (target/debug/deps/integration_test-762861ffedaeb423)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/json_test.rs (target/debug/deps/json_test-dd666ed769317578)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/manual_extended_test.rs (target/debug/deps/manual_extended_test-6261f4e97cf82144)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/numeric_type_test.rs (target/debug/deps/numeric_type_test-17db4066081244dc)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.00s

     Running tests/profile_protocol_overhead.rs (target/debug/deps/profile_protocol_overhead-1aa82e06ea80816f)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/protocol_edge_cases_test.rs (target/debug/deps/protocol_edge_cases_test-83b2ecaa60d5f7d8)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 10 filtered out; finished in 0.00s

     Running tests/protocol_overhead_analysis.rs (target/debug/deps/protocol_overhead_analysis-300d019618c6e4f1)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/protocol_test.rs (target/debug/deps/protocol_test-20b1506fc0bc4484)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 6 filtered out; finished in 0.00s

     Running tests/query_cache_test.rs (target/debug/deps/query_cache_test-6640459cc5d21cc4)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/query_test.rs (target/debug/deps/query_test-a625d597349266b5)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 3 filtered out; finished in 0.00s

     Running tests/raw_protocol_test.rs (target/debug/deps/raw_protocol_test-f5ed7613105866d7)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/result_cache_test.rs (target/debug/deps/result_cache_test-9ea2003b7906d31a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 4 filtered out; finished in 0.00s

     Running tests/returning_test.rs (target/debug/deps/returning_test-6ab061067e68edc2)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/server_test.rs (target/debug/deps/server_test-fbbf09f3621a92fe)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

     Running tests/simple_db_test.rs (target/debug/deps/simple_db_test-a031c108dc175271)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/simple_extended_test.rs (target/debug/deps/simple_extended_test-726d59decd01e98f)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/simple_protocol_profile.rs (target/debug/deps/simple_protocol_profile-ecd6cefe059958ff)

running 1 test

=== Simple Protocol Profiling ===
   Compiling ring v0.17.14
   Compiling rcgen v0.13.2
   Compiling pgsqlite v0.0.1 (/home/eran/work/pgsqlite)

thread 'simple_protocol_profile' panicked at tests/simple_protocol_profile.rs:22:6:
Failed to connect: Error { kind: Io, cause: Some(Os { code: 104, kind: ConnectionReset, message: "Connection reset by peer" }) }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test simple_protocol_profile ... FAILED

failures:

failures:
    simple_protocol_profile

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 3.00s

error: test failed, to rerun pass `--test simple_protocol_profile`
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 4.73s
     Running `target/debug/pgsqlite --port 5433`
[2m2025-07-06T03:48:19.536361Z[0m [32m INFO[0m [2mpgsqlite::session::db_handler[0m[2m:[0m DbHandler initialized with mutex-based implementation
[2m2025-07-06T03:48:19.536463Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Unix socket created at: /tmp/.s.PGSQL.5433
[2m2025-07-06T03:48:19.536503Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m TCP server listening on port 5433
[2m2025-07-06T03:48:19.536508Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m Using database: sqlite.db
[2m2025-07-06T03:48:19.536512Z[0m [32m INFO[0m [2mpgsqlite[0m[2m:[0m SSL disabled - using unencrypted connections
[2m2025-07-06T03:48:19.538654Z[0m [32m INFO[0m [2mpgsqlite::cache::status[0m[2m:[0m Query Cache Status - Total: 0, Hits: 0 (0.0%), Misses: 0, Evictions: 0, Size: 0/1000
